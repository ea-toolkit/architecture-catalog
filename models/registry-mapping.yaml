# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Registry Mapping â€” the wiring manifest
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
#
# PURPOSE:
#   Maps your architecture model (conceptual) to the registry-v2
#   folder structure (physical). This file is the single contract
#   consumed by:
#     1. registry-loader.ts   â€” builds the in-memory graph for FE
#     2. validate.py          â€” lints consistency & maturity scoring
#     3. SaaS data pipelines  â€” know which .md files to write
#
# DESIGN PRINCIPLES:
#   - Schema-driven: UI never hard-codes element types or field names
#   - Vocabulary-agnostic: works with any architecture framework
#     (ArchiMate, TOGAF, C4, custom). Name your layers, elements,
#     and relationships however you want â€” the UI adapts automatically.
#   - Graceful degradation: every field & relationship is optional
#   - Extensible: add a new element = add one entry here, zero code
#
# HOW TO READ:
#   element_key:
#     label         â€” human-friendly name for UI
#     layer         â€” which layer it sits in (you define layers below)
#     folder        â€” relative path under registry-v2/
#     id_field      â€” which frontmatter field is the file's identity
#     archimate     â€” (optional) ArchiMate 3.x type, for reference only
#     graph_rank    â€” left-to-right position (0 = anchor, higher = right)
#     icon          â€” short emoji/icon for compact rendering
#     fields        â€” every frontmatter key the FE should look for
#       key:
#         type      â€” string | string[] | number | boolean | object[]
#         required  â€” true if absence should trigger a lint warning
#         label     â€” human label shown in detail panels
#     relationships â€” arrows going OUT of this element
#       key:          (frontmatter field name)
#         target      â€” element_key this points to
#         type        â€” relationship type (e.g., composition, realization)
#         cardinality â€” one | many
#         resolve_by  â€” slug | name | abbreviation (how to match target)
#         inverse     â€” field name on the target type that points back
#         required    â€” false = orphan is allowed, true = lint error
#
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

version: "1.0"
registry_root: registry-v2

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Site Branding â€” change these for white-label deployment
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
site:
  name: Architecture Catalog
  description: Enterprise architecture registry
  logo_text: A

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Layer Definitions â€” name these however you want
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
layers:
  products_and_services:
    name: Products & Services
    color: "#a855f7"
    bg: "#faf5ff"
    icon: P
  process_and_organisation:
    name: Process & Organisation
    color: "#f59e0b"
    bg: "#fffbeb"
    icon: O
  applications_and_data:
    name: Applications & Data
    color: "#3b82f6"
    bg: "#eff6ff"
    icon: A
  infrastructure_and_hosting:
    name: Infrastructure & Hosting
    color: "#10b981"
    bg: "#ecfdf5"
    icon: I

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Relationship Types â€” verbs for outgoing / incoming edges
# These names are used as the `type` value in element relationships.
# ArchiMate-inspired defaults are provided; rename freely.
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
relationship_types:
  composition:
    outgoing: Composes
    incoming: Part of
    icon: "â—‡"
  aggregation:
    outgoing: Owns
    incoming: Owned by
    icon: "â—†"
  realization:
    outgoing: Realizes
    incoming: Realized by
    icon: "â–²"
  serving:
    outgoing: Serves
    incoming: Served by
    icon: "â†’"
  assignment:
    outgoing: Assigned to
    incoming: Assigned from
    icon: "âŠ•"
  access:
    outgoing: Accesses
    incoming: Accessed by
    icon: "âŠ™"

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Domain Color Palette â€” auto-assigned to domains in order
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
domain_color_palette:
  - "#3b82f6"
  - "#8b5cf6"
  - "#ec4899"
  - "#f59e0b"
  - "#06b6d4"
  - "#84cc16"
  - "#f97316"
  - "#10b981"
  - "#ef4444"
  - "#6366f1"

# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# Elements â€” define your element types here
# The `archimate:` field is optional metadata for reference.
# It is NOT used by the UI or loader â€” only for documentation.
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
elements:

  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  # Product (Layer 1)
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  product:
    label: Product
    layer: products_and_services
    folder: 1-products-and-services/products
    id_field: name
    archimate: product
    graph_rank: -1
    icon: ğŸ“¦
    badge_category: product
    fields:
      type:
        type: string
        required: false
        label: Element Type
      name:
        type: string
        required: true
        label: Name
      description:
        type: string
        required: false
        label: Description
      owner:
        type: string
        required: false
        label: Owner
      domain:
        type: string
        required: false
        label: Domain
      status:
        type: string
        required: false
        label: Status
      product_type:
        type: string
        required: false
        label: Product Type
    relationships:
      serves_customer_segments:
        target: customer_segment
        type: serving
        cardinality: many
        resolve_by: name
        inverse: served_by_products
        required: false
      aggregates_business_services:
        target: business_service
        type: aggregation
        cardinality: many
        resolve_by: name
        inverse: aggregated_by_product
        required: false

  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  # Customer Segment (Layer 1)
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  customer_segment:
    label: Customer Segment
    layer: products_and_services
    folder: 1-products-and-services/customer-segments
    id_field: name
    archimate: business-actor
    graph_rank: -2
    icon: ğŸ‘¥
    badge_category: segment
    fields:
      type:
        type: string
        required: false
        label: Element Type
      name:
        type: string
        required: true
        label: Name
      description:
        type: string
        required: false
        label: Description
      owner:
        type: string
        required: false
        label: Owner
      domain:
        type: string
        required: false
        label: Domain
      status:
        type: string
        required: false
        label: Status
    relationships:
      served_by_products:
        target: product
        type: serving
        cardinality: many
        resolve_by: name
        inverse: serves_customer_segments
        required: false

  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  # Business Service (Layer 1)
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  business_service:
    label: Business Service
    layer: products_and_services
    folder: 1-products-and-services/business-services
    id_field: name
    archimate: business-service
    graph_rank: -1
    icon: ğŸ
    badge_category: service
    fields:
      type:
        type: string
        required: false
        label: Element Type
      name:
        type: string
        required: true
        label: Name
      description:
        type: string
        required: false
        label: Description
      owner:
        type: string
        required: false
        label: Owner
      domain:
        type: string
        required: false
        label: Domain
      status:
        type: string
        required: false
        label: Status
    relationships:
      aggregated_by_product:
        target: product
        type: aggregation
        cardinality: one
        resolve_by: name
        inverse: aggregates_business_services
        required: false
      realized_by_business_capabilities:
        target: business_capability
        type: realization
        cardinality: many
        resolve_by: name
        inverse: ~
        required: false

  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  # Business Capability (Layer 2)
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  business_capability:
    label: Business Capability
    layer: process_and_organisation
    folder: 2-process-and-organisation/capabilities
    id_field: name
    archimate: business-function
    graph_rank: 1
    icon: ğŸ¯
    badge_category: capability
    fields:
      type:
        type: string
        required: false
        label: Element Type
      name:
        type: string
        required: true
        label: Name
      description:
        type: string
        required: false
        label: Description
      owner:
        type: string
        required: false
        label: Owner
      domain:
        type: string
        required: false
        label: Domain
      status:
        type: string
        required: false
        label: Status
    relationships:
      realized_by_logical_components:
        target: logical_component
        type: realization
        cardinality: many
        resolve_by: name
        inverse: realizes_business_capability
        required: false

  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  # Business Process (Layer 2)
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  business_process:
    label: Business Process
    layer: process_and_organisation
    folder: 2-process-and-organisation/processes
    id_field: name
    archimate: business-process
    graph_rank: 1
    icon: ğŸ”„
    badge_category: process
    fields:
      type:
        type: string
        required: false
        label: Element Type
      name:
        type: string
        required: true
        label: Name
      description:
        type: string
        required: false
        label: Description
      owner:
        type: string
        required: false
        label: Owner
      domain:
        type: string
        required: false
        label: Domain
      status:
        type: string
        required: false
        label: Status
      specialization:
        type: string
        required: false
        label: Specialization
      value_stream:
        type: string
        required: false
        label: Value Stream
    relationships:
      triggers_events:
        target: domain_event
        type: serving
        cardinality: many
        resolve_by: name
        inverse: ~
        required: false

  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  # Architecture Area Domain
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  architecture_area_domain:
    label: Architecture Area Domain
    layer: applications_and_data
    folder: 3-applications-and-data/architecture-area-domains
    id_field: name
    archimate: application-function
    graph_rank: 0
    icon: ğŸ›ï¸
    badge_category: domain
    fields:
      type:
        type: string
        required: false
        label: Element Type
      name:
        type: string
        required: true
        label: Name
      description:
        type: string
        required: false
        label: Description
      owner:
        type: string
        required: false
        label: Owner
      status:
        type: string
        required: false
        label: Status
      aliases:
        type: string[]
        required: false
        label: Aliases
    relationships:
      composes_logical_components:
        target: logical_component
        type: composition
        cardinality: many
        resolve_by: slug
        inverse: parent_architecture_area_domain
        required: false
      owns_data_concepts:
        target: data_concept
        type: aggregation
        cardinality: many
        resolve_by: slug
        inverse: ~
        required: false

  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  # Logical Component
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  logical_component:
    label: Logical Component
    layer: applications_and_data
    folder: 3-applications-and-data/logical-components
    id_field: name
    archimate: application-function
    graph_rank: 1
    icon: ğŸ§©
    badge_category: component
    fields:
      type:
        type: string
        required: false
        label: Element Type
      name:
        type: string
        required: true
        label: Name
      description:
        type: string
        required: false
        label: Description
      owner:
        type: string
        required: false
        label: Owner
      domain:
        type: string
        required: false
        label: Domain
      status:
        type: string
        required: false
        label: Status
      make_or_buy:
        type: string
        required: false
        label: Make or Buy
    relationships:
      parent_architecture_area_domain:
        target: architecture_area_domain
        type: composition
        cardinality: one
        resolve_by: name
        inverse: composes_logical_components
        required: false
      composes_logical_components:
        target: logical_component
        type: composition
        cardinality: many
        resolve_by: name
        inverse: ~
        required: false
      realized_by_software_systems:
        target: software_system
        type: realization
        cardinality: many
        resolve_by: name
        inverse: realizes_logical_components
        required: false
      realizes_logical_apis:
        target: logical_business_api
        type: serving
        cardinality: many
        resolve_by: name
        inverse: realized_by_logical_component
        required: false
      owns_data_aggregates:
        target: data_aggregate
        type: aggregation
        cardinality: many
        resolve_by: name
        inverse: owned_by_logical_component
        required: false
      realizes_business_capability:
        target: business_capability
        type: realization
        cardinality: many
        resolve_by: name
        inverse: ~
        required: false  # Cross-layer link â€” target type not yet mapped

  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  # Software System
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  software_system:
    label: Software System
    layer: applications_and_data
    folder: 3-applications-and-data/software-systems
    id_field: name
    archimate: application-component
    graph_rank: 2
    icon: ğŸ–¥ï¸
    badge_category: system
    fields:
      type:
        type: string
        required: false
        label: Element Type
      name:
        type: string
        required: true
        label: Name
      full_name:
        type: string
        required: false
        label: Full Name
      abbreviation:
        type: string
        required: false
        label: Abbreviation
      description:
        type: string
        required: false
        label: Description
      owner:
        type: string
        required: false
        label: Owner
      domain:
        type: string
        required: false
        label: Domain
      status:
        type: string
        required: false
        label: Status
      make_or_buy:
        type: string
        required: false
        label: Make or Buy
      catalog_id:
        type: string
        required: false
        label: Catalog ID
      system_type:
        type: string
        required: false
        label: System Type
      vendor:
        type: string
        required: false
        label: Vendor
    relationships:
      composes_software_subsystems:
        target: software_subsystem
        type: composition
        cardinality: many
        resolve_by: slug
        inverse: parent_software_system
        required: false
      realizes_logical_components:
        target: logical_component
        type: realization
        cardinality: many
        resolve_by: name
        inverse: realized_by_software_systems
        required: false
      # Legacy singular field â€” loader normalizes to array
      realizes_logical_component:
        target: logical_component
        type: realization
        cardinality: one
        resolve_by: name
        inverse: realized_by_software_systems
        required: false

  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  # Software Subsystem
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  software_subsystem:
    label: Software Subsystem
    layer: applications_and_data
    folder: 3-applications-and-data/software-subsystems
    id_field: name
    archimate: application-component
    graph_rank: 3
    icon: ğŸ“¦
    badge_category: subsystem
    fields:
      type:
        type: string
        required: false
        label: Element Type
      name:
        type: string
        required: true
        label: Name
      description:
        type: string
        required: false
        label: Description
      owner:
        type: string
        required: false
        label: Owner
      domain:
        type: string
        required: false
        label: Domain
      status:
        type: string
        required: false
        label: Status
      environments:
        type: string[]
        required: false
        label: Environments
    relationships:
      parent_software_system:
        target: software_system
        type: composition
        cardinality: one
        resolve_by: name
        inverse: composes_software_subsystems
        required: false
      composes_physical_apis:
        target: physical_business_api
        type: composition
        cardinality: many
        resolve_by: slug
        inverse: parent_software_subsystem
        required: false
      consumes_apis:
        target: physical_business_api
        type: serving
        cardinality: many
        resolve_by: slug
        inverse: ~
        required: false

  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  # Logical Business API
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  logical_business_api:
    label: Logical Business API
    layer: applications_and_data
    folder: 3-applications-and-data/logical-apis
    id_field: name
    archimate: application-service
    graph_rank: 2
    icon: ğŸ“‹
    badge_category: api
    fields:
      type:
        type: string
        required: false
        label: Element Type
      name:
        type: string
        required: true
        label: Name
      description:
        type: string
        required: false
        label: Description
      owner:
        type: string
        required: false
        label: Owner
      domain:
        type: string
        required: false
        label: Domain
      status:
        type: string
        required: false
        label: Status
    relationships:
      realized_by_logical_component:
        target: logical_component
        type: realization
        cardinality: one
        resolve_by: name
        inverse: realizes_logical_apis
        required: false
      implemented_by_physical_apis:
        target: physical_business_api
        type: realization
        cardinality: many
        resolve_by: slug
        inverse: implements_logical_api
        required: false

  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  # Physical Business API
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  physical_business_api:
    label: Physical Business API
    layer: applications_and_data
    folder: 3-applications-and-data/physical-apis
    id_field: name
    archimate: application-interface
    graph_rank: 3
    icon: ğŸ”Œ
    badge_category: api
    fields:
      type:
        type: string
        required: false
        label: Element Type
      name:
        type: string
        required: true
        label: Name
      description:
        type: string
        required: false
        label: Description
      owner:
        type: string
        required: false
        label: Owner
      domain:
        type: string
        required: false
        label: Domain
      status:
        type: string
        required: false
        label: Status
      protocol:
        type: string
        required: false
        label: Protocol
      environments:
        type: string[]
        required: false
        label: Environments
    relationships:
      parent_software_subsystem:
        target: software_subsystem
        type: composition
        cardinality: one
        resolve_by: slug
        inverse: composes_physical_apis
        required: false
      implements_logical_api:
        target: logical_business_api
        type: realization
        cardinality: one
        resolve_by: name
        inverse: implemented_by_physical_apis
        required: false

  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  # Data Concept
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  data_concept:
    label: Data Concept
    layer: applications_and_data
    folder: 3-applications-and-data/data-concepts
    id_field: name
    archimate: data-object
    graph_rank: 1
    icon: ğŸ’¡
    badge_category: data
    fields:
      type:
        type: string
        required: false
        label: Element Type
      name:
        type: string
        required: true
        label: Name
      description:
        type: string
        required: false
        label: Description
      owner:
        type: string
        required: false
        label: Owner
      domain:
        type: string
        required: false
        label: Domain
      status:
        type: string
        required: false
        label: Status
      classification:
        type: string
        required: false
        label: Classification
      source_system:
        type: string
        required: false
        label: Source System
      logical_component:
        type: string
        required: false
        label: Logical Component
    relationships:
      detailed_by_data_aggregates:
        target: data_aggregate
        type: composition
        cardinality: many
        resolve_by: name
        inverse: parent_data_concept
        required: false

  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  # Data Aggregate
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  data_aggregate:
    label: Data Aggregate
    layer: applications_and_data
    folder: 3-applications-and-data/data-aggregates
    id_field: name
    archimate: data-object
    graph_rank: 2
    icon: ğŸ—ƒï¸
    badge_category: data
    fields:
      type:
        type: string
        required: false
        label: Element Type
      name:
        type: string
        required: true
        label: Name
      description:
        type: string
        required: false
        label: Description
      owner:
        type: string
        required: false
        label: Owner
      domain:
        type: string
        required: false
        label: Domain
      status:
        type: string
        required: false
        label: Status
      lifecycle_states:
        type: string[]
        required: false
        label: Lifecycle States
    relationships:
      parent_data_concept:
        target: data_concept
        type: composition
        cardinality: one
        resolve_by: name
        inverse: detailed_by_data_aggregates
        required: false
      owned_by_logical_component:
        target: logical_component
        type: aggregation
        cardinality: one
        resolve_by: name
        inverse: owns_data_aggregates
        required: false
      composes_data_entities:
        target: data_entity
        type: composition
        cardinality: many
        resolve_by: name
        inverse: parent_data_aggregate
        required: false
      owned_by_software_subsystem:
        target: software_subsystem
        type: aggregation
        cardinality: one
        resolve_by: slug
        inverse: ~
        required: false

  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  # Data Entity
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  data_entity:
    label: Data Entity
    layer: applications_and_data
    folder: 3-applications-and-data/data-entities
    id_field: name
    archimate: data-object
    graph_rank: 3
    icon: ğŸ“
    badge_category: data
    fields:
      type:
        type: string
        required: false
        label: Element Type
      name:
        type: string
        required: true
        label: Name
      description:
        type: string
        required: false
        label: Description
      owner:
        type: string
        required: false
        label: Owner
      domain:
        type: string
        required: false
        label: Domain
      status:
        type: string
        required: false
        label: Status
      entity_type:
        type: string
        required: false
        label: Entity Type
      attributes:
        type: object[]
        required: false
        label: Attributes
    relationships:
      parent_data_aggregate:
        target: data_aggregate
        type: composition
        cardinality: one
        resolve_by: name
        inverse: composes_data_entities
        required: false

  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  # Domain Event
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  domain_event:
    label: Domain Event
    layer: applications_and_data
    folder: 3-applications-and-data/domain-events
    id_field: name
    archimate: application-event
    graph_rank: 3
    icon: âš¡
    badge_category: event
    fields:
      type:
        type: string
        required: false
        label: Element Type
      name:
        type: string
        required: true
        label: Name
      description:
        type: string
        required: false
        label: Description
      owner:
        type: string
        required: false
        label: Owner
      domain:
        type: string
        required: false
        label: Domain
      status:
        type: string
        required: false
        label: Status
      event_format:
        type: string
        required: false
        label: Event Format
      schema_registry:
        type: string
        required: false
        label: Schema Registry
    relationships:
      published_by_physical_apis:
        target: physical_business_api
        type: serving
        cardinality: many
        resolve_by: slug
        inverse: ~
        required: false
      consumed_by_physical_apis:
        target: physical_business_api
        type: serving
        cardinality: many
        resolve_by: slug
        inverse: ~
        required: false
      realizes_business_event:
        target: business_event
        type: realization
        cardinality: one
        resolve_by: name
        inverse: ~
        required: false  # Cross-layer link â€” target type not yet mapped

  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  # Hosting Node (Layer 4)
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  hosting_node:
    label: Hosting Node
    layer: infrastructure_and_hosting
    folder: 4-infrastructure-and-hosting/hosting-nodes
    id_field: name
    archimate: node
    graph_rank: 4
    icon: ğŸ–§
    badge_category: infrastructure
    fields:
      type:
        type: string
        required: false
        label: Element Type
      name:
        type: string
        required: true
        label: Name
      description:
        type: string
        required: false
        label: Description
      owner:
        type: string
        required: false
        label: Owner
      domain:
        type: string
        required: false
        label: Domain
      status:
        type: string
        required: false
        label: Status
      node_type:
        type: string
        required: false
        label: Node Type
      cloud_provider:
        type: string
        required: false
        label: Cloud Provider
    relationships:
      serves_software_subsystems:
        target: software_subsystem
        type: serving
        cardinality: many
        resolve_by: slug
        inverse: ~
        required: false

  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  # Technology Infrastructure (Layer 4)
  # â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
  technology_infrastructure:
    label: Technology Infrastructure
    layer: infrastructure_and_hosting
    folder: 4-infrastructure-and-hosting/technology-infrastructure
    id_field: name
    archimate: system-software
    graph_rank: 4
    icon: â˜ï¸
    badge_category: infrastructure
    fields:
      type:
        type: string
        required: false
        label: Element Type
      name:
        type: string
        required: true
        label: Name
      description:
        type: string
        required: false
        label: Description
      owner:
        type: string
        required: false
        label: Owner
      domain:
        type: string
        required: false
        label: Domain
      status:
        type: string
        required: false
        label: Status
      cloud_provider:
        type: string
        required: false
        label: Cloud Provider
    relationships:
      serves_software_subsystems:
        target: software_subsystem
        type: serving
        cardinality: many
        resolve_by: slug
        inverse: ~
        required: false
      served_by_hosting_nodes:
        target: hosting_node
        type: serving
        cardinality: many
        resolve_by: name
        inverse: ~
        required: false

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Relationship Type Reference
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Quick lookup: relationship type â†’ visual semantics for rendering
# These are ArchiMate-inspired defaults. You can rename, add, or
# remove types freely â€” the UI reads them from this file.
#
# type          â”‚ arrow    â”‚ direction â”‚ layout â”‚ notes
# â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
# composition   â”‚ â—† filled â”‚ parentâ†’child â”‚ yes â”‚ structural containment
# aggregation   â”‚ â—‡ open   â”‚ wholeâ†’part   â”‚ yes â”‚ grouping, ownership
# realization   â”‚ â‡¢ dashed â”‚ implâ†’abstractâ”‚ yes â”‚ direction reversed in layout
# serving       â”‚ â†’ solid  â”‚ providerâ†’consumerâ”‚ noâ”‚ API exposure, consumption
# assignment    â”‚ â†’ solid  â”‚ activeâ†’passive â”‚ yesâ”‚ infra assignment
# access        â”‚ â†’ dotted â”‚ componentâ†’data â”‚ noâ”‚ data read/write
# flow          â”‚ â†’ solid  â”‚ fromâ†’to   â”‚ no   â”‚ data/event flow
# association   â”‚ â€” line   â”‚ bidirectionalâ”‚ no  â”‚ loose coupling
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
# Reference Resolution Strategies
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
#
# resolve_by: slug
#   Match the target's .md filename (without .md extension).
#   e.g., "billing-worker" â†’ software-subsystems/billing-worker.md
#
# resolve_by: name
#   Match the target's `name:` frontmatter field (case-insensitive).
#   e.g., "Tenant Management" â†’ logical-components/tenant-management.md
#
# resolve_by: abbreviation
#   Match the target's `abbreviation:` frontmatter field.
#   e.g., "NOVA" â†’ software-systems/novacrm-core.md (abbreviation: NOVA)
#
# When a reference can't be resolved:
#   - Loader returns { resolved: false, raw: "the-value" }
#   - Renderer shows the node with a âš ï¸ broken-link indicator
#   - Linter flags it as a warning (not an error)
# â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
